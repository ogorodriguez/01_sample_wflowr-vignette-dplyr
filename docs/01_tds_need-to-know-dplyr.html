<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="LJ" />

<meta name="date" content="2022-11-13" />

<title>01 What you need to know about dplyr 1.0.0</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/main/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>



<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Sample Workflowr Project from Vignette: dplyr practice</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="license.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ogorodriguez/01_sample_wflowr-vignette-dplyr">
    <span class="fab fa-github"></span>
     
    Source code
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">01 What you need to know about dplyr
1.0.0</h1>
<h4 class="author">LJ</h4>
<h4 class="date">2022-11-13</h4>

</div>


<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-report" data-toggle="collapse" data-target="#workflowr-report">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
workflowr <span class="glyphicon glyphicon-exclamation-sign text-danger"
aria-hidden="true"></span>
</button>
</p>
<div id="workflowr-report" class="collapse">
<ul class="nav nav-tabs">
<li class="active">
<a data-toggle="tab" href="#summary">Summary</a>
</li>
<li>
<a data-toggle="tab" href="#checks"> Checks <span
class="glyphicon glyphicon-exclamation-sign text-danger"
aria-hidden="true"></span> </a>
</li>
<li>
<a data-toggle="tab" href="#versions">Past versions</a>
</li>
</ul>
<div class="tab-content">
<div id="summary" class="tab-pane fade in active">
<p>
<strong>Last updated:</strong> 2022-11-20
</p>
<p>
<strong>Checks:</strong> <span
class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> 6
<span class="glyphicon glyphicon-exclamation-sign text-danger"
aria-hidden="true"></span> 1
</p>
<p>
<strong>Knit directory:</strong>
<code>01_sample_wflowr-vignette-dplyr/</code> <span
class="glyphicon glyphicon-question-sign" aria-hidden="true"
title="This is the local directory in which the code in this file was executed.">
</span>
</p>
<p>
This reproducible <a href="https://rmarkdown.rstudio.com">R Markdown</a>
analysis was created with <a
  href="https://github.com/workflowr/workflowr">workflowr</a> (version
1.7.0). The <em>Checks</em> tab describes the reproducibility checks
that were applied when the results were created. The <em>Past
versions</em> tab lists the development history.
</p>
<hr>
</div>
<div id="checks" class="tab-pane fade">
<div id="workflowr-checks" class="panel-group">
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRMarkdownfilestronguptodate">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>R Markdown file:</strong> up-to-date
</a>
</p>
</div>
<div id="strongRMarkdownfilestronguptodate"
class="panel-collapse collapse">
<div class="panel-body">
<p>Great! Since the R Markdown file has been committed to the Git
repository, you know the exact version of the code that produced these
results.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongEnvironmentstrongempty">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Environment:</strong> empty </a>
</p>
</div>
<div id="strongEnvironmentstrongempty" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! The global environment was empty. Objects defined in the
global environment can affect the analysis in your R Markdown file in
unknown ways. For reproduciblity it’s best to always run the code in an
empty environment.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSeedstrongcodesetseed20221109code">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Seed:</strong>
<code>set.seed(20221109)</code> </a>
</p>
</div>
<div id="strongSeedstrongcodesetseed20221109code"
class="panel-collapse collapse">
<div class="panel-body">
<p>The command <code>set.seed(20221109)</code> was run prior to running
the code in the R Markdown file. Setting a seed ensures that any results
that rely on randomness, e.g. subsampling or permutations, are
reproducible.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSessioninformationstrongrecorded">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Session information:</strong>
recorded </a>
</p>
</div>
<div id="strongSessioninformationstrongrecorded"
class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Recording the operating system, R version, and package
versions is critical for reproducibility.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongCachestrongdetected">
<span class="glyphicon glyphicon-exclamation-sign text-danger"
aria-hidden="true"></span> <strong>Cache:</strong> detected </a>
</p>
</div>
<div id="strongCachestrongdetected" class="panel-collapse collapse">
<div class="panel-body">
The following chunks had caches available:
<ul>
<li>
<code>relocate()</code> with .before and .after arguments
</li>
<li>
another rowwise() example with a range of numbers 01
</li>
<li>
another rowwise() example with a range of numbers 02
</li>
<li>
create the mtcars tibble
</li>
<li>
example - any_of() to remove variables from dataframe
</li>
<li>
example any_of()
</li>
<li>
get means of specific columss using across()
</li>
<li>
relocate() default action
</li>
<li>
same example as before but with less code
</li>
<li>
selecting columns and functions to apply to
</li>
<li>
session-info-chunk-inserted-by-workflowr
</li>
<li>
summarising a range
</li>
<li>
unnamed-chunk-1
</li>
<li>
unnamed-chunk-2
</li>
<li>
using across() with various functions
</li>
<li>
using glue() syntax for column naming
</li>
<li>
using pivot_wider() to better tabulte previous df
</li>
<li>
using rowwise to calculate the mean 01
</li>
<li>
using rowwise to calculate the mean 02
</li>
<li>
using starts_with() to select columns
</li>
</ul>
<p>To ensure reproducibility of the results, delete the cache directory
<code>01_tds_need-to-know-dplyr_cache</code> and re-run the analysis. To
have workflowr automatically delete the cache directory prior to
building the file, set <code>delete_cache = TRUE</code> when running
<code>wflow_build()</code> or <code>wflow_publish()</code>.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongFilepathsstrongrelative">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>File paths:</strong> relative </a>
</p>
</div>
<div id="strongFilepathsstrongrelative" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Using relative paths to the files within your workflowr
project makes it easier to run your code on other machines.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRepositoryversionstrongahrefhttpsgithubcomogorodriguez01samplewflowrvignettedplyrtree1092894d45bf7fadb44211e4f23311689fc41362targetblank1092894a">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Repository version:</strong>
<a href="https://github.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/tree/1092894d45bf7fadb44211e4f23311689fc41362" target="_blank">1092894</a>
</a>
</p>
</div>
<div
id="strongRepositoryversionstrongahrefhttpsgithubcomogorodriguez01samplewflowrvignettedplyrtree1092894d45bf7fadb44211e4f23311689fc41362targetblank1092894a"
class="panel-collapse collapse">
<div class="panel-body">
<p>
Great! You are using Git for version control. Tracking code development
and connecting the code version to the results is critical for
reproducibility.
</p>
<p>
The results in this page were generated with repository version
<a href="https://github.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/tree/1092894d45bf7fadb44211e4f23311689fc41362" target="_blank">1092894</a>.
See the <em>Past versions</em> tab to see a history of the changes made
to the R Markdown and HTML files.
</p>
<p>
Note that you need to be careful to ensure that all relevant files for
the analysis have been committed to Git prior to generating the results
(you can use <code>wflow_publish</code> or
<code>wflow_git_commit</code>). workflowr only checks the R Markdown
file, but you know if there are other scripts or data files that it
depends on. Below is the status of the Git repository when the results
were generated:
</p>
<pre><code>
Ignored files:
    Ignored:    .Rhistory
    Ignored:    .Rproj.user/
    Ignored:    analysis/01_tds_need-to-know-dplyr_cache/
    Ignored:    analysis/02_tychobra_favorite-features-dplyr_cache/
    Ignored:    analysis/03_tim_dplyr-100_cache/

Untracked files:
    Untracked:  .Renviron
    Untracked:  code/knitr_opts_chunk.R

Unstaged changes:
    Modified:   code/Initialize-code.R

</code></pre>
<p>
Note that any generated files, e.g. HTML, png, CSS, etc., are not
included in this status report because it is ok for generated content to
have uncommitted changes.
</p>
</div>
</div>
</div>
</div>
<hr>
</div>
<div id="versions" class="tab-pane fade">

<p>
These are the previous versions of the repository in which changes were
made to the R Markdown
(<code>analysis/01_tds_need-to-know-dplyr.Rmd</code>) and HTML
(<code>docs/01_tds_need-to-know-dplyr.html</code>) files. If you’ve
configured a remote Git repository (see <code>?wflow_git_remote</code>),
click on the hyperlinks in the table below to view the files as they
were in that past version.
</p>
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
File
</th>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
<th>
Message
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/70e07d85570b1d3b8bdf6be7db3fb946c2515921/docs/01_tds_need-to-know-dplyr.html" target="_blank">70e07d8</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-20
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/blob/caabd402396c2e05f394aaa9e4dfefe963ede140/analysis/01_tds_need-to-know-dplyr.Rmd" target="_blank">caabd40</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-20
</td>
<td>
Added another rowwise() example with arguments
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/b71bcd9337bc49ed20e0ed83eafa1856784a698e/docs/01_tds_need-to-know-dplyr.html" target="_blank">b71bcd9</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-19
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/blob/d532acb926c3d2b7abb30639de4f892d4f684ef0/analysis/01_tds_need-to-know-dplyr.Rmd" target="_blank">d532acb</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-19
</td>
<td>
Completed rowwise() section and finished the practice
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/50da7bd37973e63de2a84a761151f619b580b80d/docs/01_tds_need-to-know-dplyr.html" target="_blank">50da7bd</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-19
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/blob/284c49585f4ab2147c0795f71e8d2f8c6ac8c241/analysis/01_tds_need-to-know-dplyr.Rmd" target="_blank">284c495</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-19
</td>
<td>
Corrected text and added rowwise() section
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/dba12a04631eb53df922dd4627b70a4f5e61a8f4/docs/01_tds_need-to-know-dplyr.html" target="_blank">dba12a0</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-18
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/blob/fb29f9f2f56ac1d931428f423f9c8f19197bcd5d/analysis/01_tds_need-to-know-dplyr.Rmd" target="_blank">fb29f9f</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-18
</td>
<td>
Added sections for summarise, and across
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/be2cab5894c2fa05e70ad2877af891ea07e3bc57/docs/01_tds_need-to-know-dplyr.html" target="_blank">be2cab5</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-15
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/blob/75d1d2f2f32a850d19936ba1245adc196d09a434/analysis/01_tds_need-to-know-dplyr.Rmd" target="_blank">75d1d2f</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-15
</td>
<td>
Started the practice workbook
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/9b3251606b87c9b6e9836119299e264ee22503ae/docs/01_tds_need-to-know-dplyr.html" target="_blank">9b32516</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-15
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/blob/8bd68bed10a7b926c756ae8c83d22d11dbb3d489/analysis/01_tds_need-to-know-dplyr.Rmd" target="_blank">8bd68be</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-15
</td>
<td>
Started the practice workbook
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/3140fe01250e5ab73c8472726dca8d60c2b87b0f/docs/01_tds_need-to-know-dplyr.html" target="_blank">3140fe0</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-13
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/blob/69cb8d4f2724a1dc5ea090f468dfabe821fc3f93/analysis/01_tds_need-to-know-dplyr.Rmd" target="_blank">69cb8d4</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-13
</td>
<td>
Added link to each page to go back to Home
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/0f8841823062f2e75520c2100d80a82a8865d502/docs/01_tds_need-to-know-dplyr.html" target="_blank">0f88418</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-13
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/ogorodriguez/01_sample_wflowr-vignette-dplyr/blob/c72f21c099042e6f0ef14c9c6866103331b7aa68/analysis/01_tds_need-to-know-dplyr.Rmd" target="_blank">c72f21c</a>
</td>
<td>
ogorodriguez
</td>
<td>
2022-11-13
</td>
<td>
Created links to analysis pages in index
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
</div>
</div>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>In this notebook I will practice the new functions of dplyr using the
examples on the site <a
href="https://towardsdatascience.com/what-you-need-to-know-about-the-new-dplyr-1-0-0-7eaaaf6d78ac">Towards
Data Science: What you need to know about dplyr 1.0.0</a></p>
<p>The article, written by <a
href="https://keith-mcnulty.medium.com/">Keith McNulty</a> for
medium.com, goes over seven key functions of the dplyr, version
1.0.0</p>
<ul>
<li><p><code>tidyselect</code> helper functions</p></li>
<li><p><code>relocate()</code></p></li>
<li><p><code>summarise()</code> expansion</p></li>
<li><p><code>across()</code></p></li>
<li><p><code>rowwise()</code></p></li>
</ul>
</div>
<div id="the-tidyselect-helper-functions" class="section level2">
<h2>The <code>tidyselect</code> helper functions</h2>
<p><code>tidyselect</code> is an underlying package for others such as
tidyr or dplyr itself and it is used to create verbs to interact with
the dataframe.</p>
<p>These verbs or helper functions can now be used directly into dplyr
as well.</p>
<p>Some examples of these verbs or helper functions are:
<em>all_of()</em>, <em>one_of()</em>, <em>any_of()</em>,
<em>starts_with()</em>, <em>eval_select()</em> among others.</p>
<p>For more information about <code>tidyselect</code>, please <a
href="https://tidyselect.r-lib.org/articles/tidyselect.html">check
here.</a></p>
<p>We will use a version of the mtcars dataset built as tibble for the
examples:</p>
<pre class="r"><code>## Make a copy of mtcars, make a tibble and view it
mtcars_test &lt;- mtcars %&gt;% 
  rownames_to_column(var = &quot;car&quot;) %&gt;% 
  as_tibble()
  

mtcars_test %&gt;% 
  head()</code></pre>
<pre><code># A tibble: 6 × 12
  car            mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Mazda RX4     21       6   160   110  3.9   2.62  16.5     0     1     4     4
2 Mazda RX4 W…  21       6   160   110  3.9   2.88  17.0     0     1     4     4
3 Datsun 710    22.8     4   108    93  3.85  2.32  18.6     1     1     4     1
4 Hornet 4 Dr…  21.4     6   258   110  3.08  3.22  19.4     1     0     3     1
5 Hornet Spor…  18.7     8   360   175  3.15  3.44  17.0     0     0     3     2
6 Valiant       18.1     6   225   105  2.76  3.46  20.2     1     0     3     1</code></pre>
<p>As a first example, we will use the <em>starts_with()</em> function
to select some columns that start with d and the car column</p>
<pre class="r"><code>mtcars_test %&gt;% 
  select(car, 
         starts_with(&quot;d&quot;)) %&gt;% 
  head(3)</code></pre>
<pre><code># A tibble: 3 × 3
  car            disp  drat
  &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt;
1 Mazda RX4       160  3.9 
2 Mazda RX4 Wag   160  3.9 
3 Datsun 710      108  3.85</code></pre>
<p>An example with <em>any_of()</em>, which selects the variables of the
dataset that are only present in the vector with variables to choose
from.</p>
<pre class="r"><code>mtcars_test %&gt;% 
  select(any_of(c(&quot;mpg&quot;, &quot;cat&quot;, &quot;car&quot;, &quot;cyl&quot;, &quot;house&quot;))) %&gt;% 
  head(3)</code></pre>
<pre><code># A tibble: 3 × 3
    mpg car             cyl
  &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt;
1  21   Mazda RX4         6
2  21   Mazda RX4 Wag     6
3  22.8 Datsun 710        4</code></pre>
<p>The order of the columns is given by order of the variables in the
vector.</p>
<p>If we need to remove the variables in the previous vector c(“mpg”,
“cat”, “car”, “cyl”, “house”) that are present in the dataframe, we
could use <code>-any_of()</code></p>
<pre class="r"><code>mtcars_test %&gt;% 
  select(-any_of(c(&quot;mpg&quot;, &quot;cat&quot;, &quot;car&quot;, &quot;cyl&quot;, &quot;house&quot;))) %&gt;% 
  head(3)</code></pre>
<pre><code># A tibble: 3 × 9
   disp    hp  drat    wt  qsec    vs    am  gear  carb
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1   160   110  3.9   2.62  16.5     0     1     4     4
2   160   110  3.9   2.88  17.0     0     1     4     4
3   108    93  3.85  2.32  18.6     1     1     4     1</code></pre>
</div>
<div id="relocate" class="section level2">
<h2><code>relocate()</code></h2>
<p><code>relocate()</code> is used to indicate a precise order of the
columns in the dataframe.</p>
<p>By default <code>relocate()</code> will move the column to the first
position from the left.</p>
<pre class="r"><code>## Place carb on the first column from the left
mtcars_test %&gt;% 
  relocate(carb) %&gt;% 
  head(3)</code></pre>
<pre><code># A tibble: 3 × 12
   carb car            mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear
  &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     4 Mazda RX4     21       6   160   110  3.9   2.62  16.5     0     1     4
2     4 Mazda RX4 W…  21       6   160   110  3.9   2.88  17.0     0     1     4
3     1 Datsun 710    22.8     4   108    93  3.85  2.32  18.6     1     1     4</code></pre>
<p><code>relocate()</code> takes the arguments <code>.before</code>, and
<code>.after</code> to move columns to specific places before and/or
after an indicated variable.</p>
<pre class="r"><code>## Place the column that start with d, after the car column
mtcars_test %&gt;% 
  relocate(starts_with(&quot;d&quot;), .after = car) %&gt;% 
  head(3)</code></pre>
<pre><code># A tibble: 3 × 12
  car           disp  drat   mpg   cyl    hp    wt  qsec    vs    am  gear  carb
  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Mazda RX4      160  3.9   21       6   110  2.62  16.5     0     1     4     4
2 Mazda RX4 W…   160  3.9   21       6   110  2.88  17.0     0     1     4     4
3 Datsun 710     108  3.85  22.8     4    93  2.32  18.6     1     1     4     1</code></pre>
</div>
<div id="summarise-expanded" class="section level2">
<h2><code>summarise()</code> expanded</h2>
<p><code>summarise()</code> has now been expanded to return vectors from
multiiple inputs. Also it can return now dataframes.</p>
<p>Some examples:</p>
<pre class="r"><code>mtcars_test %&gt;% 
  group_by(cyl) %&gt;% 
  summarise(mpg_range = range(mpg)) # range gets the min and max from a list of values</code></pre>
<pre><code># A tibble: 6 × 2
# Groups:   cyl [3]
    cyl mpg_range
  &lt;dbl&gt;     &lt;dbl&gt;
1     4      21.4
2     4      33.9
3     6      17.8
4     6      21.4
5     8      10.4
6     8      19.2</code></pre>
<p>Combinin this with <code>pivot_wider()</code> can help create table
with a min and max column</p>
<pre class="r"><code>mtcars_test %&gt;% 
  group_by(cyl) %&gt;% 
  summarise(mpg_range = range(mpg)) %&gt;% 
  mutate(name = rep(c(&quot;min&quot;, &quot;max&quot;), 
                    length(unique(cyl)))) %&gt;% 
  pivot_wider(names_from = name,
              values_from = mpg_range)</code></pre>
<pre><code># A tibble: 3 × 3
# Groups:   cyl [3]
    cyl   min   max
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     4  21.4  33.9
2     6  17.8  21.4
3     8  10.4  19.2</code></pre>
<p>The previous example can be coded more economically like this:</p>
<pre class="r"><code>mtcars_test %&gt;% 
  group_by(cyl) %&gt;% 
  summarise(min = min(mpg), max = max(mpg))</code></pre>
<pre><code># A tibble: 3 × 3
    cyl   min   max
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     4  21.4  33.9
2     6  17.8  21.4
3     8  10.4  19.2</code></pre>
</div>
<div id="across-for-column-wrangling" class="section level2">
<h2><code>across()</code> for column wrangling</h2>
<p><code>across()</code> was introduced to allow more powerful
<code>summarise</code> actions together with the
<code>tidyselect()</code> verbs. <code>across()</code> operates across
multiple columns and applying dplyr functions. It represents a
time-saving solution removing the need to use the <code>*_at()</code>,
or <code>*_if()</code> type of functions of previous dplyr versions.</p>
<p>For example to get the mean of various numerical columns of
<code>mtcars_test</code></p>
<pre class="r"><code>mtcars_test %&gt;% 
  group_by(cyl) %&gt;% 
  summarise(across(c(&quot;mpg&quot;, &quot;hp&quot;), mean))</code></pre>
<pre><code># A tibble: 3 × 3
    cyl   mpg    hp
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     4  26.7  82.6
2     6  19.7 122. 
3     8  15.1 209. </code></pre>
<p><code>across()</code> is a selecting function. We can identify which
functions to apply, and then select the columns they will be applied to.
This is a substitute for <code>mutate_if</code>.</p>
<pre class="r"><code>dplyr::storms %&gt;% 
  mutate(across(where(is_character), as_factor)) %&gt;% 
  select(name, status)</code></pre>
<pre><code># A tibble: 11,859 × 2
   name  status             
   &lt;fct&gt; &lt;fct&gt;              
 1 Amy   tropical depression
 2 Amy   tropical depression
 3 Amy   tropical depression
 4 Amy   tropical depression
 5 Amy   tropical depression
 6 Amy   tropical depression
 7 Amy   tropical depression
 8 Amy   tropical depression
 9 Amy   tropical storm     
10 Amy   tropical storm     
# … with 11,849 more rows</code></pre>
<p>Also multiple functions can be applied if passed on as a list
argument.</p>
<pre class="r"><code>mtcars_test %&gt;% 
  group_by(cyl) %&gt;% 
  summarise(across(c(&quot;mpg&quot;, &quot;hp&quot;),
                   list(mean = mean, 
                        median = median, 
                        sd = sd)))</code></pre>
<pre><code># A tibble: 3 × 7
    cyl mpg_mean mpg_median mpg_sd hp_mean hp_median hp_sd
  &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;
1     4     26.7       26     4.51    82.6       91   20.9
2     6     19.7       19.7   1.45   122.       110   24.3
3     8     15.1       15.2   2.56   209.       192.  51.0</code></pre>
<p>Using <code>glue()</code> syntax to add the name of the column and
the function applied to the names fo the new columns.</p>
<pre class="r"><code>mtcars_test %&gt;% 
  group_by(cyl) %&gt;% 
  summarise(across(starts_with(&quot;d&quot;), 
                   list(mean = mean,
                        median = median,
                        sd = sd,
                        mode = mode), 
                   .names = &quot;{col}_{fn}_summ&quot;))</code></pre>
<pre><code># A tibble: 3 × 9
    cyl disp_mean_summ disp_me…¹ disp_…² disp_…³ drat_…⁴ drat_…⁵ drat_…⁶ drat_…⁷
  &lt;dbl&gt;          &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;  
1     4           105.      108     26.9 numeric    4.07    4.08   0.365 numeric
2     6           183.      168.    41.6 numeric    3.59    3.9    0.476 numeric
3     8           353.      350.    67.8 numeric    3.23    3.12   0.372 numeric
# … with abbreviated variable names ¹​disp_median_summ, ²​disp_sd_summ,
#   ³​disp_mode_summ, ⁴​drat_mean_summ, ⁵​drat_median_summ, ⁶​drat_sd_summ,
#   ⁷​drat_mode_summ</code></pre>
</div>
<div id="rowwise" class="section level2">
<h2><code>rowwise()</code></h2>
<p><code>rowwise()</code>is included in <code>dplyr</code> to allow
operations to be done with values horizontally or in rows.<br />
For examples, calculation the average number of phones per region in the
dataset WorldPhones is calculation that can be done horizontally without
having to write a formula for it, and thus having those results as a
column.</p>
<pre class="r"><code>## Let&#39;s create our test tibble from WorldPhones dataset
worldphones_df &lt;- WorldPhones %&gt;% 
  as.data.frame() %&gt;% 
  rownames_to_column(var = &quot;year&quot;) %&gt;% 
  as_tibble() %&gt;% 
  clean_names()

worldphones_df %&gt;% 
  head()</code></pre>
<pre><code># A tibble: 6 × 8
  year  n_amer europe  asia s_amer oceania africa mid_amer
  &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;
1 1951   45939  21574  2876   1815    1646     89      555
2 1956   60423  29990  4708   2568    2366   1411      733
3 1957   64721  32510  5230   2695    2526   1546      773
4 1958   68484  35218  6662   2845    2691   1663      836
5 1959   71799  37598  6856   3000    2868   1769      911
6 1960   76036  40341  8220   3145    3054   1905     1008</code></pre>
<pre class="r"><code>## create a new column that will have the mean of all these values
worldphones_df %&gt;% 
  rowwise() %&gt;% 
  mutate(avg = mean(c_across(n_amer:mid_amer))) %&gt;% 
  head()</code></pre>
<pre><code># A tibble: 6 × 9
# Rowwise: 
  year  n_amer europe  asia s_amer oceania africa mid_amer    avg
  &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;
1 1951   45939  21574  2876   1815    1646     89      555 10642 
2 1956   60423  29990  4708   2568    2366   1411      733 14600.
3 1957   64721  32510  5230   2695    2526   1546      773 15714.
4 1958   68484  35218  6662   2845    2691   1663      836 16914.
5 1959   71799  37598  6856   3000    2868   1769      911 17829.
6 1960   76036  40341  8220   3145    3054   1905     1008 19101.</code></pre>
<p>The same result with <code>rowwise()</code> can be obtained by adding
to it as argument the columns we will need to exclude from the
calculation. In this case, “year”.</p>
<pre class="r"><code>worldphones_df %&gt;% 
  rowwise(year) %&gt;%  ## Adding the column &quot;year&quot; as argument excludes it from the calculation and makes the code less wordy
  mutate(avg = mean(c_across())) %&gt;% 
  head()</code></pre>
<pre><code># A tibble: 6 × 9
# Rowwise:  year
  year  n_amer europe  asia s_amer oceania africa mid_amer    avg
  &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;
1 1951   45939  21574  2876   1815    1646     89      555 10642 
2 1956   60423  29990  4708   2568    2366   1411      733 14600.
3 1957   64721  32510  5230   2695    2526   1546      773 15714.
4 1958   68484  35218  6662   2845    2691   1663      836 16914.
5 1959   71799  37598  6856   3000    2868   1769      911 17829.
6 1960   76036  40341  8220   3145    3054   1905     1008 19101.</code></pre>
<pre class="r"><code>## Create a tibble with four columns and 10 rows with random numbers
test_df &lt;- tibble(
  a = round(100 * runif(10),0),
  b = a * 2,
  c = round(100* 1 / a, 0),
  d = round(c, 0) + 1
)

test_df</code></pre>
<pre><code># A tibble: 10 × 4
       a     b     c     d
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1    25    50     4     5
 2    70   140     1     2
 3    49    98     2     3
 4    34    68     3     4
 5    48    96     2     3
 6    31    62     3     4
 7    41    82     2     3
 8    80   160     1     2
 9    65   130     2     3
10    96   192     1     2</code></pre>
<pre class="r"><code>test_df %&gt;% 
  rowwise() %&gt;% 
  mutate(sum = sum(c_across(a:d)))</code></pre>
<pre><code># A tibble: 10 × 5
# Rowwise: 
       a     b     c     d   sum
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1    25    50     4     5    84
 2    70   140     1     2   213
 3    49    98     2     3   152
 4    34    68     3     4   109
 5    48    96     2     3   149
 6    31    62     3     4   100
 7    41    82     2     3   128
 8    80   160     1     2   243
 9    65   130     2     3   200
10    96   192     1     2   291</code></pre>
</div>
<div id="back-to-home" class="section level2">
<h2>Back to Home</h2>
<p><a href="index.html">Home</a></p>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 4.2.1 (2022-06-23 ucrt)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 19045)

Matrix products: default

locale:
[1] LC_COLLATE=Spanish_Spain.utf8  LC_CTYPE=Spanish_Spain.utf8   
[3] LC_MONETARY=Spanish_Spain.utf8 LC_NUMERIC=C                  
[5] LC_TIME=Spanish_Spain.utf8    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] here_1.0.1      janitor_2.1.0   forcats_0.5.2   stringr_1.4.1  
 [5] dplyr_1.0.10    purrr_0.3.4     readr_2.1.2     tidyr_1.2.0    
 [9] tibble_3.1.8    ggplot2_3.3.6   tidyverse_1.3.2 workflowr_1.7.0

loaded via a namespace (and not attached):
 [1] httr_1.4.4          sass_0.4.2          jsonlite_1.8.3     
 [4] modelr_0.1.9        bslib_0.4.0         assertthat_0.2.1   
 [7] getPass_0.2-2       googlesheets4_1.0.1 cellranger_1.1.0   
[10] yaml_2.3.5          pillar_1.8.1        backports_1.4.1    
[13] glue_1.6.2          digest_0.6.29       promises_1.2.0.1   
[16] rvest_1.0.3         snakecase_0.11.0    colorspace_2.0-3   
[19] htmltools_0.5.3     httpuv_1.6.5        pkgconfig_2.0.3    
[22] broom_1.0.1         haven_2.5.1         scales_1.2.1       
[25] processx_3.7.0      whisker_0.4         later_1.3.0        
[28] tzdb_0.3.0          timechange_0.1.1    git2r_0.30.1       
[31] googledrive_2.0.0   generics_0.1.3      ellipsis_0.3.2     
[34] cachem_1.0.6        pacman_0.5.1        withr_2.5.0        
[37] cli_3.3.0           magrittr_2.0.3      crayon_1.5.2       
[40] readxl_1.4.1        evaluate_0.16       ps_1.7.1           
[43] fs_1.5.2            fansi_1.0.3         xml2_1.3.3         
[46] tools_4.2.1         hms_1.1.2           gargle_1.2.0       
[49] lifecycle_1.0.3     munsell_0.5.0       reprex_2.0.2       
[52] callr_3.7.2         compiler_4.2.1      jquerylib_0.1.4    
[55] rlang_1.0.6         grid_4.2.1          rstudioapi_0.14    
[58] rmarkdown_2.16      gtable_0.3.1        codetools_0.2-18   
[61] DBI_1.1.3           R6_2.5.1            lubridate_1.9.0    
[64] knitr_1.40          fastmap_1.1.0       utf8_1.2.2         
[67] rprojroot_2.0.3     stringi_1.7.8       Rcpp_1.0.9         
[70] vctrs_0.4.1         dbplyr_2.2.1        tidyselect_1.1.2   
[73] xfun_0.32          </code></pre>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
https://docs.mathjax.org/en/latest/web/configuration.html. This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>




</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
